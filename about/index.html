---
title: About | 关于
layout: page
comments: true
---
<head>
    <link rel="stylesheet" type="text/css" href="/assets/css/about.css">
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
</head>

<!-- Language Selector -->
<select class="sel-lang" id="auto-lang" onchange= "onLanChange(this.options[this.options.selectedIndex].value)">
	<option value="0" selected> English 英语 </option>
	<option value="1"> 中文 Chinese </option>
</select>

<!-- auto detect IP -->
<div id="visitor_ip"></div>

<!-- English Version of About -->
<!--Two classes here: `en` & `about-lang`; later class will overwrite the prior class-->
<div class="en about-lang">
    {% capture about_en %}{% include _about/en.md %}{% endcapture %}
    {{ about_en | markdownify }}
    <br>
</div>

<!-- Chinese Version of About -->
<div class="zh about-lang">
    <br>
    {% capture about_zh %}{% include _about/zh.md %}{% endcapture %}
    {{ about_zh | markdownify }}
</div>

<!-- Handle Language Change -->
<script type="text/javascript">
    // get nodes
    var $zh = document.querySelector(".zh");
    var $en = document.querySelector(".en");
    var $select = document.querySelector("select");

    // bind hashchange event
    window.addEventListener('hashchange', pageRender);

    // handle render
    function pageRender(){
        var _hash = window.location.hash;
        // en
        if(_hash == "#zh"){
            $select.selectedIndex = 1;
            $zh.style.display = "block";
            $en.style.display = "none";
            // en by default
        }else{
            // not trigger onChange, otherwise cause a loop call.
            $select.selectedIndex = 0;
            $en.style.display = "block";
            $zh.style.display = "none"
        }
    }

    // handle select change
    function onLanChange(index){
        if(index == 0){
            window.location.hash = "#en"
        }else{
            window.location.hash = "#zh"
        }
    }

    // init
    pageRender();

    $.get("https://ipinfo.io", function(response) {
        var _city = response.city;
        var _province = response.region;
        var _divs = $("#visitor_ip");
        greetings: if(response.country === "CN") {
            if (_city === "") {
                _divs.html("嗨~！来自中国"+_province+"的朋友 (＾o＾)ﾉ");
                break greetings;
            } else if ((_city === "") && (_province === "")) {
                _divs.html("你好呀~！来自中国的朋友 (＾o＾)ﾉ");
                break greetings;
            }
            _divs.html("嗨~！来自"+_province+"，"+_city+"的朋友 (＾o＾)ﾉ");
            // _divs.html().append("（小声）如果你开了代理，预测的地点就会不准了哦"）;
        } else {
            if (_city === "") {
                _divs.html("Greetings! "+_province+"'s friend. Nice to have you HERE!! (＾o＾)ﾉ");
                break greetings;
            } else if ((_city === "") && (_province === "")) {
                _divs.html("Greetings! Nice to have you HERE!! (＾o＾)ﾉ");
                break greetings;
            }
            _divs.html("Greetings! Friend from "+_city+", "+_province+". Nice to have you HERE!! (＾o＾)ﾉ");
            // _divs.html().append(" I may guess a wrong location if you're using proxy o_O");
        }
    }, "jsonp");
</script>

{% if page.comments %}
<script type="text/javascript">
    var disqus_config = function () {
        this.page.url = '{{ page.url | absolute_url }}';
        this.page.identifier = '{{ page.url | relative_url }}';
        this.page.title = '{{ page.title| replace: "'", "\\'" }}';
    };
    var d = document, s = d.createElement('script');
    s.src = 'https://{{site.disqus.shortname}}.disqus.com/embed.js';
    s.setAttribute('data-timestamp', '' + +new Date());
    (d.head || d.body).appendChild(s);
</script>
{% endif %}
